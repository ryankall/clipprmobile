🧠 Goal: Define Subscription Logic for Barber App (Basic vs. Premium)
💼 Plan Types:
Basic (Free)

Premium ($19.99/mo or $199.99/year via Stripe)

🔐 BASIC PLAN – Feature Limits & Behavior
🔢 Appointment Limit
Max 15 appointments/month

On attempt to create 16th:

❗ Block creation

✅ Show upgrade prompt: “You’ve reached your monthly limit. Upgrade to Premium to book unlimited appointments.”

✅ Redirect user to Settings → Plan Card

✅ Unit test: Block 16th creation, upgrade prompt appears, navigates to plan card

📬 Shared Booking Requests (Messages)
Max 15 booking requests/month from public booking link

On 16th request:

❗ Show notification to barber: “You have a new booking request, but you've reached your free plan limit. Upgrade to view and accept.”

✅ Unit test: Message does not appear in inbox; notification displays upgrade prompt

🛠 Services
Max 3 active services

On attempt to create/edit 4th service:

❗ Block action + prompt to upgrade

If account downgraded from Premium:

Auto-hide services beyond the top 3 alphabetically

✅ These services:

❌ Should not appear in invoice creation

❌ Should not appear in appointment creation

❌ Should not appear in public booking link

✅ Unit test:

Ensure hidden services are excluded in all workflows

Ensure prompt appears on add/edit beyond limit

🗓 Calendar Access
✅ Calendar view allowed

⏰ Working Hours
Only default working hours (e.g., 9 AM – 5 PM)

❌ Cannot add or edit block-off time slots

If downgraded:

❌ Clear all custom block-offs

✅ Unit test: On downgrade, block-off times removed, and UI disables editing

📲 SMS Confirmations
Max 15 SMS/month

On 16th attempt:

❗ Block and prompt upgrade

✅ Unit test: Block after 15 SMS, correct error message shown

🖼 Photo Upload
Max 50MB per user

On upload attempt beyond limit:

❗ Show upgrade prompt

✅ Unit test: Track size uploaded, block above 50MB

📊 Analytics Card
"Top 10 Clients" card visible but:

❌ Dropdown disabled

On click: Show prompt to upgrade

✅ Unit test: Dropdown blocked; prompt shown on click

💎 PREMIUM PLAN – Full Access
✅ Unlimited:
Appointments

SMS Confirmations

Add/edit Clients and Services

✅ Full Features:
Full working hours & block-off controls

1GB photo storage

Client analytics: fully working top 10 card

Priority support

💳 Monetization Details
Subscription Options:
$19.99/month

$199.99/year (16% discount)

Payment:
Integrated via Stripe

Billing visible on Settings page

⚙️ Settings Page
Add Plan Card:

Shows current plan

Upgrade button (Premium)

show when plan ends as date (mm/dd/yyyy) after payment

Switch billing interval (Monthly/Annual)

✅ Unit test:

Correct plan label shown

Upgrade button routes to Stripe checkout

Pricing options display correctly

date when plan end is correctly display and enforced



🔁 Prompt Routing
All feature upgrade prompts must route user to:

Settings → Plan Card → Upgrade Button

✅ Unit test:

All upgrade prompts deep-link correctly

🌟 App Review Prompt
After 5 successful appointments:

Prompt user: “Enjoying Clippr? Leave us a review on the App Store.”

Button routes to App Store listing

✅ Unit test:

Trigger after 5th appointment

Only show once

Store "prompted" flag to local storage/user profile

✅ Final Notes
Maintain feature toggle system (isPremium) at runtime

All plan transitions (upgrade/downgrade) should trigger re-evaluation of:

Service visibility

SMS counter

Booking limits

Working hour settings

Consider background task to reset SMS and appointment counts monthly

